run:
  timeout: 5m
  skip-dirs:
    - cached-deps
linters:
  enable:
    - wrapcheck
    - nolintlint
linters-settings:
  errcheck:
     exclude-functions:
      - io.Copy
      - github.com/pachyderm/pachyderm/v2/src/internal/backoff.Retry
      - github.com/pachyderm/pachyderm/v2/src/internal/backoff.RetryNotify
      - github.com/pachyderm/pachyderm/v2/src/internal/backoff.RetryUntilCancel
      - (*database/sql.Tx).Rollback
      - (*github.com/spf13/cobra.Command).MarkFlagCustom
  wrapcheck:
    ignoreSigs:
      - github.com/pachyderm/pachyderm/v2/src/internal/errors.Errorf
      - github.com/pachyderm/pachyderm/v2/src/internal/errors.New
      - github.com/pachyderm/pachyderm/v2/src/internal/errors.Unwrap
      - github.com/pachyderm/pachyderm/v2/src/internal/errors.EnsureStack
      - .Wrap(
      - .Wrapf(
      - .WithMessage(
      - .WithMessagef(
      - .WithStack(
    ignorePackageGlobs:
      - github.com/pachyderm/pachyderm/v2/src/*
issues:
  exclude-rules:
    - path: _test\.go # disable some linters for test files
      linters:
        - errcheck
