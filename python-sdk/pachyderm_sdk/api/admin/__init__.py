# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: api/admin/admin.proto
# plugin: python-betterproto
# This file has been @generated
from dataclasses import dataclass
from typing import (
    TYPE_CHECKING,
    Dict,
    List,
    Optional,
)

import betterproto
import betterproto.lib.google.protobuf as betterproto_lib_google_protobuf
import grpc

from .. import (
    pfs as _pfs__,
    version as _version__,
)


if TYPE_CHECKING:
    import grpc


@dataclass(eq=False, repr=False)
class ClusterInfo(betterproto.Message):
    id: str = betterproto.string_field(1)
    deployment_id: str = betterproto.string_field(2)
    version_warnings_ok: bool = betterproto.bool_field(3)
    version_warnings: List[str] = betterproto.string_field(4)
    proxy_host: str = betterproto.string_field(5)
    proxy_tls: bool = betterproto.bool_field(6)


@dataclass(eq=False, repr=False)
class InspectClusterRequest(betterproto.Message):
    client_version: "_version__.Version" = betterproto.message_field(1)
    current_project: "_pfs__.Project" = betterproto.message_field(2)
    """
    If CurrentProject is set, then InspectCluster will return an error if the
    project does not exist.
    """


class ApiStub:
    def __init__(self, channel: "grpc.Channel"):
        self.__rpc_inspect_cluster = channel.unary_unary(
            "/admin_v2.API/InspectCluster",
            request_serializer=InspectClusterRequest.SerializeToString,
            response_deserializer=ClusterInfo.FromString,
        )

    def inspect_cluster(
        self,
        *,
        client_version: "_version__.Version" = None,
        current_project: "_pfs__.Project" = None
    ) -> "ClusterInfo":
        request = InspectClusterRequest()
        if client_version is not None:
            request.client_version = client_version
        if current_project is not None:
            request.current_project = current_project

        return self.__rpc_inspect_cluster(request)


class ApiBase:
    def inspect_cluster(
        self,
        client_version: "_version__.Version",
        current_project: "_pfs__.Project",
        context: "grpc.ServicerContext",
    ) -> "ClusterInfo":
        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
        context.set_details("Method not implemented!")
        raise NotImplementedError("Method not implemented!")

    __proto_path__ = "admin_v2.API"

    @property
    def __rpc_methods__(self):
        return {
            "InspectCluster": grpc.unary_unary_rpc_method_handler(
                self.inspect_cluster,
                request_deserializer=InspectClusterRequest.FromString,
                response_serializer=InspectClusterRequest.SerializeToString,
            ),
        }
