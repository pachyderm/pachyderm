# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: api/metadata/metadata.proto
# plugin: python-betterproto
# This file has been @generated
from dataclasses import dataclass
from typing import (
    TYPE_CHECKING,
    Dict,
    List,
    Optional,
)

import betterproto
import betterproto.lib.google.protobuf as betterproto_lib_google_protobuf
import grpc

from .. import pfs as _pfs__


if TYPE_CHECKING:
    import grpc


@dataclass(eq=False, repr=False)
class Edit(betterproto.Message):
    project: "_pfs__.ProjectPicker" = betterproto.message_field(1, group="target")
    replace: "EditReplace" = betterproto.message_field(10, group="op")


@dataclass(eq=False, repr=False)
class EditReplace(betterproto.Message):
    replacement: Dict[str, str] = betterproto.map_field(
        1, betterproto.TYPE_STRING, betterproto.TYPE_STRING
    )


@dataclass(eq=False, repr=False)
class EditMetadataRequest(betterproto.Message):
    edits: List["Edit"] = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class EditMetadataResponse(betterproto.Message):
    pass


class ApiStub:

    def __init__(self, channel: "grpc.Channel"):
        self.__rpc_edit_metadata = channel.unary_unary(
            "/metadata.API/EditMetadata",
            request_serializer=EditMetadataRequest.SerializeToString,
            response_deserializer=EditMetadataResponse.FromString,
        )

    def edit_metadata(
        self, *, edits: Optional[List["Edit"]] = None
    ) -> "EditMetadataResponse":
        edits = edits or []

        request = EditMetadataRequest()
        if edits is not None:
            request.edits = edits

        return self.__rpc_edit_metadata(request)
